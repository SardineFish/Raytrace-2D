!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=10)}([function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n{constructor(t,e,r,n=1){this.red=255,this.green=255,this.blue=255,this.alpha=1,this.red=t,this.green=e,this.blue=r,this.alpha=n}get hue(){const t=this.red/255,e=this.green/255,r=this.blue/255,n=Math.max(t,e,r),i=Math.min(t,e,r);let o;return n===i?o=0:n===t?o=60*(0+(e-r)/(n-i)):n===e?o=60*(2+(r-t)/(n-i)):n===r&&(o=60*(4+(t-e)/(n-i))),o<0?o+360:o}get saturation(){const t=Math.max(this.red,this.green,this.blue)/255,e=Math.min(this.red,this.blue,this.green)/255;return 0===t?0:1==e?0:(t-e)/(1-Math.abs(t+e-1))}get lightness(){return(Math.max(this.red,this.green,this.blue)/255+Math.min(this.red,this.blue,this.green)/255)/2}set hue(t){this.setHSL(t,this.saturation,this.lightness)}set saturation(t){this.setHSL(this.hue,t,this.lightness)}set lightness(t){this.setHSL(this.hue,this.saturation,t)}static add(t,e){const r=e.alpha;return new n((1-r)*t.red+r*e.red,(1-r)*t.green+r*e.green,(1-r)*t.blue+r*e.blue,1-(1-t.alpha)*(1-e.alpha))}static blend(t,e,r){return new n((1-r)*t.red+r*e.red,(1-r)*t.green+r*e.green,(1-r)*t.blue+r*e.blue,1)}static fromHSL(t,e,r,i=1){return new n(0,0,0,i).setHSL(t,e,r)}static from(t){return new n(t.red,t.green,t.blue,t.alpha)}setHSL(t,e,r){t=t<0?t+360:t;const n=(1-Math.abs(2*r-1))*e;if(isNaN(t))return this.red=this.green=this.blue=0,this;t/=60;const i=n*(1-Math.abs(t%2-1));let o=[0,0,0];0<=t&&t<=1?o=[n,i,0]:t<=2?o=[i,n,0]:t<=3?o=[0,n,i]:t<=4?o=[0,i,n]:t<=5?o=[i,0,n]:t<=6&&(o=[n,0,i]);let s=r-n/2;return this.red=Math.floor(255*(o[0]+s)),this.green=Math.floor(255*(o[1]+s)),this.blue=Math.floor(255*(o[2]+s)),this}static fromString(t,e=1){t=t.replace(new RegExp(/\s/g),"");var r=new RegExp("#[0-9a-fA-F]{6}");if(r.test(t)){var i=(t=t.replace("#","")).charAt(0)+t.charAt(1),o=t.charAt(2)+t.charAt(3),s=t.charAt(4)+t.charAt(5),a=parseInt(i,16),u=parseInt(o,16),c=parseInt(s,16);return new n(a,u,c,e)}if((r=new RegExp("rgb\\(([0-9]+(\\.[0-9]+){0,1}),([0-9]+(\\.[0-9]+){0,1}),([0-9]+(\\.[0-9]+){0,1})\\)")).test(t)){var l=t.replace("rgb(","").replace(")","").split(",");a=parseInt(l[0]),u=parseInt(l[1]),c=parseInt(l[2]);return new n(a,u,c,f=1)}if((r=new RegExp("rgba\\(([0-9]+(\\.[0-9]+){0,1}),([0-9]+(\\.[0-9]+){0,1}),([0-9]+(\\.[0-9]+){0,1}),([0-9]+(\\.[0-9]+){0,1})\\)")).test(t)){l=t.replace("rgba(","").replace(")","").split(","),a=parseInt(l[0]),u=parseInt(l[1]),c=parseInt(l[2]);var f=parseFloat(l[3]);return new n(a,u,c,f)}}toString(){return`rgba(${this.red},${this.green},${this.blue},${this.alpha})`}toVector4(){return new l(this.red/255,this.green/255,this.blue/255,this.alpha)}}e.Color=n;const i=Math.max;e.max=i;const o=Math.min;e.min=o;const s=Math.sqrt;e.sqrt=s;const a=Math.abs;e.abs=a;e.length=((t,e)=>s(t*t+e*e));e.clamp=((t,e,r)=>t>r?r:t<e?e:t);const u=(t,e,r)=>t+(e-t)*r;e.smin=function t(e,r,n){if("number"==typeof e&&"number"==typeof r){const t=Math.max(n-Math.abs(e-r),0)/n;return Math.min(e,r)-t*t*n*.25}return r=r,new l(t((e=e)[0],r[0],n),t(e[1],r[1],n),t(e[2],r[2],n),t(e[3],r[3],n))},e.mix=function(t,e,r){const n=Math.max(r-Math.abs(t-e),0)/r;return 1-((n*n-1)*Math.sign(t-e)*.5+.5)};class c extends Array{constructor(t,e=0){super(4),t instanceof Array?(this[0]=t[0],this[1]=t[1]):(this[0]=t,this[1]=e)}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get normalized(){let t=Math.hypot(this.x,this.y);return new c(this.x/t,this.y/t)}get magnitude(){return Math.hypot(this[0],this[1])}}e.Vector2=c;class l extends Array{constructor(t,e=0,r=0,n=0){super(4),t instanceof Array?(this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3]):(this[0]=t,this[1]=e,this[2]=r,this[3]=n)}get x(){return this[0]}set x(t){this[0]=t}get y(){return this[1]}set y(t){this[1]=t}get z(){return this[2]}set z(t){this[2]=t}get w(){return this[3]}set w(t){this[3]=t}static scale(t,e){return new l(t.map(t=>t*e))}}function f(t,e){return t instanceof c?new c(t.x-e.x,t.y-e.y):new l(e instanceof l?[t.x-e.x,t.y-e.y,t.z-e.z,t.w-e.w]:t.map((t,r)=>t-e[r]))}function h(t,e){return t instanceof c?new c(t.x*e,t.y*e):new l([t.x*e,t.y*e,t.z*e,t.w*e])}e.Vector4=l,e.vec2=function(t,e){return new c(t,e)},e.vec4=function(t,e,r,n){return new l(t,e,r,n)},e.plus=function(t,e){return t instanceof c?new c(t.x+e.x,t.y+e.y):new l(e instanceof l?[t.x+e.x,t.y+e.y,t.z+e.z,t.w+e.w]:t.map((t,r)=>t+e[r]))},e.minus=f,e.scale=h,e.dot=function(t,e){return t instanceof c?t.x*e.x+t.y*e.y:t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},e.cross=function(t,e){return t.x*e.y-t.y*e.x};e.Range=class extends c{get from(){return this[0]}set from(t){this[0]=t}get to(){return this[1]}set to(t){this[1]=t}get size(){return console.log(this[1]-this[0]),this[1]-this[0]}inRange(t){return this.from<t&&t<this.to}inRangeInclude(t){return this.from<=t&&t<=this.to}};e.Rect=class{constructor(t,e=new c(0,0)){this.size=t,this.offset=e}inRect(t){let e=h(f(t,this.offset),2);return-this.size.x<=e.x&&e.x<=this.size.x&&-this.size.y<=e.y&&e.y<=this.size.y}};class d extends Array{constructor(t=null){super(...[[1,0,0],[0,1,0],[0,0,1]]),this[0]=[1,0,0],this[1]=[0,1,0],this[2]=[0,0,1],(t instanceof d||t instanceof Array)&&(this[0]=t[0].copyWithin(0,0),this[1]=t[1].copyWithin(0,0),this[2]=t[2].copyWithin(0,0))}static get identity(){return new d}static multipleVector(t,e){let r=[t[0][0]*e[0]+t[0][1]*e[1],t[1][0]*e[0]+t[1][1]*e[1],t[2][0]*e[2]+t[2][1]*e[1]];return new c(r)}static multiplePoint(t,e){let r=[t[0][0]*e[0]+t[0][1]*e[1]+1*t[0][2],t[1][0]*e[0]+t[1][1]*e[1]+1*t[1][2],t[2][0]*e[2]+t[2][1]*e[1]+1*t[2][2]];return new c(r)}static multipleMatrix(t,e){let r=new d;for(let n=0;n<3;n++)for(let i=0;i<3;i++)for(let o=0;o<3;o++)r[n][i]=t[n][o]*e[o][i];return r}multipleVector(t){return d.multipleVector(this,t)}multiplePoint(t){return d.multiplePoint(this,t)}multipleMatrix(t){let e=d.multipleMatrix(this,t);return this[0]=e[0].copyWithin(0,0),this[1]=e[1].copyWithin(0,0),this[2]=e[2].copyWithin(0,0),this}}e.Matrix3x3=d;class p{constructor(t=new n(0,0,0,1)){this.diffuseColor=new n(0,0,0,1),this.reflectivity=0,this.refractivity=0,this.emission=new n(0,0,0,1),t instanceof n?this.emission=t:(this.emission=t.emission||this.emission,this.diffuseColor=t.diffuse||this.diffuseColor,this.reflectivity=t.reflect||this.reflectivity,this.refractivity=t.refrect||this.refractivity)}static blend(t,e,r){return new p({emission:n.blend(t.emission,e.emission,r),diffuse:n.blend(t.diffuseColor,e.diffuseColor,r),reflect:u(t.reflectivity,e.reflectivity,r),refrect:u(t.refractivity,e.refractivity,r)})}}p.default=new p(new n(255,255,255,1)),e.Material=p,e.mapColor=function(t,e){return new n(t.x*e*255,t.y*e*255,t.z*e*255,1)},e.gradient=function(t,e,r,n){return[(t(e+n,r)[0]-t(e-n,r)[0])/(2*n),(t(e,r+n)[0]-t(e,r-n)[0])/(2*n)]}},function(t,e,r){var n=r(13),i=r(14),o=r(15),s=r(16),a=r(17),u=r(18),c=r(19);c.alea=n,c.xor128=i,c.xorwow=o,c.xorshift7=s,c.xor4096=a,c.tychei=u,t.exports=c},,,,,,function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});const lib_1=__webpack_require__(3),render_1=__webpack_require__(11),seedrandom_1=__importDefault(__webpack_require__(4));function report(t){postMessage(t,void 0,[t.buffer])}function process(renderCmd){function config(){renderCmd.options.environment.ambient=lib_1.Color.from(renderCmd.options.environment.ambient),renderCmd.options.environment.backgroundColor=lib_1.Color.from(renderCmd.options.environment.ambient),renderCmd.options.viewport.size=new lib_1.Vector2(renderCmd.options.viewport.size),renderCmd.options.viewport.transform=new lib_1.Matrix3x3(renderCmd.options.viewport.transform)}function render(t){let e=new Uint8ClampedArray(renderCmd.options.viewport.size.x*renderCmd.options.viewport.size.y*4);if("preview"==renderCmd.renderType){new render_1.Renderer(renderCmd.options).renderSDF(t,e),report({progress:1,buffer:e})}else if("raytrace"==renderCmd.renderType){renderCmd.index=renderCmd.index||0;const r=new render_1.Renderer(renderCmd.options),n=renderCmd.options.raytrace.subDivide/renderCmd.options.thread,i=seedrandom_1.default.alea(renderCmd.seed.toString());let o=0;for(const s of r.renderRaytraceIterator(t,e,i,renderCmd.index*n)){if(o>=n)return;report({progress:s.progress*renderCmd.options.thread,buffer:new Uint8ClampedArray(s.buffer.buffer)}),o++}}}eval(renderCmd.code)}onmessage=(t=>{let e=t.data;console.log(`Worker #${e.index} started.`),process(e)})},function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(12),o=r(3),s=n(r(4));function a(t,e,r,n,i,o){let s=4*(r*n+e);t[s]=o.red,t[s+1]=o.green,t[s+2]=o.blue,t[s+3]=Math.floor(255*o.alpha)}e.Renderer=class{constructor(t){this.options=t,this.raytracer=new i.RayTracer2D(t)}render(t,e){}*renderRaytraceIterator(t,e,r,n=0){const i=[],[s,a]=this.options.viewport.size;let u;for(let e=0;e<a;e++){i.push([]);for(let a=0;a<s;a++)u=o.Matrix3x3.multiplePoint(this.options.viewport.transform,new o.Vector2(a,e)),i[e].push(this.raytracer.sampleIterator(t,u,r,n))}let c,l=0;for(var f=1;f<=this.options.raytrace.subDivide;f++){for(let t=0;t<a;t++)for(let r=0;r<s;r++)l=4*(t*s+r),c=i[t][r].next().value,e[l]=c.red,e[l+1]=c.green,e[l+2]=c.blue,e[l+3]=Math.floor(255*c.alpha);yield{progress:f/this.options.raytrace.subDivide,buffer:e}}}renderRaytrace(t,e){const[r,n]=this.options.viewport.size,i=s.default.alea(Date.now().toString());for(let s=0;s<n;s++)for(let n=0;n<r;n++){let a=4*(s*r+n),u=o.Matrix3x3.multiplePoint(this.options.viewport.transform,new o.Vector2(n,s)),c=this.raytracer.sample(t,u,i);e[a]=c.red,e[a+1]=c.green,e[a+2]=c.blue,e[a+3]=Math.floor(255*c.alpha)}}renderSDF(t,e){!function(t,e,r){const n=e.viewport.size.x,i=e.viewport.size.y;for(let u=-i/2+1;u<=i/2;u++)for(let c=-n/2;c<n/2;c++){let[l,f]=t(c,u),h=e.environment.backgroundColor;if(l<=0)h=f.emission;else if(e.antiAlias&&l<1){var s=l/1;h=o.Color.blend(e.environment.backgroundColor,f.emission,1-s)}a(r,c+n/2,i/2-u,n,0,h)}}(t,this.options,e)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(3);e.RayTracer2D=class{constructor(t){this.options=t,this.bound=new n.Rect(t.viewport.size)}trace(t,e,r){let i,o=0;r=r.normalized;do{if(e=n.plus(e,n.scale(r,o)),[o,i]=t(e.x,e.y),!this.bound.inRect(e))return this.options.environment.backgroundColor.toVector4()}while(o>this.options.raytrace.hitThreshold);return i.emission.toVector4()}sample(t,e,r){let i;switch(this.options.raytrace.sampleFunction){case"jittered":i=this.jitteredSample;break;case"stratified":i=this.stratifiedSample;break;case"uniform":i=this.uniformSample}i=i.bind(this);let o=n.vec4(0,0,0,0);const s=this.options.raytrace.subDivide;for(const s of i(t,e,r))o=n.plus(o,s);const a=t(e.x,e.y)[0];if(0<=a&&a<=1){let u=new n.Vector2(n.gradient(t,e.x,e.y,.1)),c=n.minus(e,n.scale(u.normalized,1)),l=n.vec4(0,0,0,0);for(const e of i(t,c,r))l=n.plus(o,e);return n.Color.blend(n.mapColor(l,1/s),n.mapColor(o,1/s),a/1)}return n.mapColor(o,1/s)}*sampleIterator(t,e,r,i=0){let o;switch(this.options.raytrace.sampleFunction){case"jittered":o=this.jitteredSample;break;case"stratified":o=this.stratifiedSample;break;case"uniform":o=this.uniformSample}o=o.bind(this);let s=n.vec4(0,0,0,0),a=n.vec4(0,0,0,0),u=0;const c=t(e.x,e.y)[0];let l,f,h=null;0<=c&&c<=1&&(l=new n.Vector2(n.gradient(t,e.x,e.y,.1)),h=o(t,f=n.minus(e,n.scale(l.normalized,1)),r,i));for(const l of o(t,e,r,i))u++,s=n.plus(s,l),h?(a=n.plus(a,h.next().value),yield n.Color.blend(n.mapColor(a,1/u),n.mapColor(s,1/u),c/1)):yield n.mapColor(s,1/u)}*uniformSample(t,e,r,i=0){let o=n.vec4(0,0,0,1);for(let r=0;r<this.options.raytrace.subDivide;r++){let r=2*Math.PI*Math.random();yield this.trace(t,e,n.vec2(Math.cos(r),Math.sin(r)))}return o}*stratifiedSample(t,e,r,i=0){let o=n.vec4(0,0,0,1);for(let r=0;r<this.options.raytrace.subDivide;r++){let i=2*Math.PI*r/this.options.raytrace.subDivide;yield this.trace(t,e,n.vec2(Math.cos(i),Math.sin(i)))}return o}*jitteredSample(t,e,r,i=0){let o;n.vec4(0,0,0,1),i=Math.floor(this.options.raytrace.subDivide*r())+i;for(let s=0;s<this.options.raytrace.subDivide;s++)o=2*Math.PI*((s+i)%this.options.raytrace.subDivide+r())/this.options.raytrace.subDivide,yield this.trace(t,e,n.vec2(Math.cos(o),Math.sin(o)))}}},function(t,e,r){(function(t){var n;!function(t,i,o){function s(t){var e,r=this,n=(e=4022871197,function(t){t=t.toString();for(var r=0;r<t.length;r++){var n=.02519603282416938*(e+=t.charCodeAt(r));n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e)}return 2.3283064365386963e-10*(e>>>0)});r.next=function(){var t=2091639*r.s0+2.3283064365386963e-10*r.c;return r.s0=r.s1,r.s1=r.s2,r.s2=t-(r.c=0|t)},r.c=1,r.s0=n(" "),r.s1=n(" "),r.s2=n(" "),r.s0-=n(t),r.s0<0&&(r.s0+=1),r.s1-=n(t),r.s1<0&&(r.s1+=1),r.s2-=n(t),r.s2<0&&(r.s2+=1),n=null}function a(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function u(t,e){var r=new s(t),n=e&&e.state,i=r.next;return i.int32=function(){return 4294967296*r.next()|0},i.double=function(){return i()+1.1102230246251565e-16*(2097152*i()|0)},i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r(0)&&r(2)?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.alea=u}(0,t,r(0))}).call(this,r(1)(t))},function(t,e,r){(function(t){var n;!function(t,i,o){function s(t){var e=this,r="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function u(t,e){var r=new s(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r(0)&&r(2)?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xor128=u}(0,t,r(0))}).call(this,r(1)(t))},function(t,e,r){(function(t){var n;!function(t,i,o){function s(t){var e=this,r="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:r+=t;for(var n=0;n<r.length+64;n++)e.x^=0|r.charCodeAt(n),n==r.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function a(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function u(t,e){var r=new s(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r(0)&&r(2)?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xorwow=u}(0,t,r(0))}).call(this,r(1)(t))},function(t,e,r){(function(t){var n;!function(t,i,o){function s(t){var e=this;e.next=function(){var t,r,n=e.x,i=e.i;return t=n[i],r=(t^=t>>>7)^t<<24,r^=(t=n[i+1&7])^t>>>10,r^=(t=n[i+3&7])^t>>>3,r^=(t=n[i+4&7])^t<<7,t=n[i+7&7],r^=(t^=t<<13)^t<<9,n[i]=r,e.i=i+1&7,r},function(t,e){var r,n=[];if(e===(0|e))n[0]=e;else for(e=""+e,r=0;r<e.length;++r)n[7&r]=n[7&r]<<15^e.charCodeAt(r)+n[r+1&7]<<13;for(;n.length<8;)n.push(0);for(r=0;r<8&&0===n[r];++r);for(8==r?n[7]=-1:n[r],t.x=n,t.i=0,r=256;r>0;--r)t.next()}(e,t)}function a(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var r=new s(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&(n.x&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r(0)&&r(2)?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xorshift7=u}(0,t,r(0))}).call(this,r(1)(t))},function(t,e,r){(function(t){var n;!function(t,i,o){function s(t){var e=this;e.next=function(){var t,r,n=e.w,i=e.X,o=e.i;return e.w=n=n+1640531527|0,r=i[o+34&127],t=i[o=o+1&127],r^=r<<13,t^=t<<17,r^=r>>>15,t^=t>>>12,r=i[o]=r^t,e.i=o,r+(n^n>>>16)|0},function(t,e){var r,n,i,o,s,a=[],u=128;for(e===(0|e)?(n=e,e=null):(e+="\0",n=0,u=Math.max(u,e.length)),i=0,o=-32;o<u;++o)e&&(n^=e.charCodeAt((o+32)%e.length)),0===o&&(s=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,o>=0&&(s=s+1640531527|0,i=0==(r=a[127&o]^=n+s)?i+1:0);for(i>=128&&(a[127&(e&&e.length||0)]=-1),i=127,o=512;o>0;--o)n=a[i+34&127],r=a[i=i+1&127],n^=n<<13,r^=r<<17,n^=n>>>15,r^=r>>>12,a[i]=n^r;t.w=s,t.X=a,t.i=i}(e,t)}function a(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var r=new s(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&(n.X&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r(0)&&r(2)?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.xor4096=u}(0,t,r(0))}).call(this,r(1)(t))},function(t,e,r){(function(t){var n;!function(t,i,o){function s(t){var e=this,r="";e.next=function(){var t=e.b,r=e.c,n=e.d,i=e.a;return t=t<<25^t>>>7^r,r=r-n|0,n=n<<24^n>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^r,e.c=r=r-n|0,e.d=n<<16^r>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):r+=t;for(var n=0;n<r.length+20;n++)e.b^=0|r.charCodeAt(n),e.next()}function a(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function u(t,e){var r=new s(t),n=e&&e.state,i=function(){return(r.next()>>>0)/4294967296};return i.double=function(){do{var t=((r.next()>>>11)+(r.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=r.next,i.quick=i,n&&("object"==typeof n&&a(n,r),i.state=function(){return a(r,{})}),i}i&&i.exports?i.exports=u:r(0)&&r(2)?void 0===(n=function(){return u}.call(e,r,e,i))||(i.exports=n):this.tychei=u}(0,t,r(0))}).call(this,r(1)(t))},function(t,e,r){var n;!function(i,o){var s,a=(0,eval)("this"),u=256,c=6,l="random",f=o.pow(u,c),h=o.pow(2,52),d=2*h,p=u-1;function x(t,e,r){var n=[],p=y(function t(e,r){var n,i=[],o=typeof e;if(r&&"object"==o)for(n in e)try{i.push(t(e[n],r-1))}catch(t){}return i.length?i:"string"==o?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,b(i)]:null==t?function(){try{var t;return s&&(t=s.randomBytes)?t=t(u):(t=new Uint8Array(u),(a.crypto||a.msCrypto).getRandomValues(t)),b(t)}catch(t){var e=a.navigator,r=e&&e.plugins;return[+new Date,a,r,a.screen,b(i)]}}():t,3),n),x=new m(n),w=function(){for(var t=x.g(c),e=f,r=0;t<h;)t=(t+r)*u,e*=u,r=x.g(1);for(;t>=d;)t/=2,e/=2,r>>>=1;return(t+r)/e};return w.int32=function(){return 0|x.g(4)},w.quick=function(){return x.g(4)/4294967296},w.double=w,y(b(x.S),i),(e.pass||r||function(t,e,r,n){return n&&(n.S&&v(n,x),t.state=function(){return v(x,{})}),r?(o[l]=t,e):t})(w,p,"global"in e?e.global:this==o,e.state)}function m(t){var e,r=t.length,n=this,i=0,o=n.i=n.j=0,s=n.S=[];for(r||(t=[r++]);i<u;)s[i]=i++;for(i=0;i<u;i++)s[i]=s[o=p&o+t[i%r]+(e=s[i])],s[o]=e;(n.g=function(t){for(var e,r=0,i=n.i,o=n.j,s=n.S;t--;)e=s[i=p&i+1],r=r*u+s[p&(s[i]=s[o=p&o+e])+(s[o]=e)];return n.i=i,n.j=o,r})(u)}function v(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function y(t,e){for(var r,n=t+"",i=0;i<n.length;)e[p&i]=p&(r^=19*e[p&i])+n.charCodeAt(i++);return b(e)}function b(t){return String.fromCharCode.apply(0,t)}if(o["seed"+l]=x,y(o.random(),i),t.exports){t.exports=x;try{s=r(20)}catch(t){}}else void 0===(n=function(){return x}.call(e,r,e,t))||(t.exports=n)}([],Math)},function(t,e){}]);
//# sourceMappingURL=renderWorker.js.map